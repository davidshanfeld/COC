<analysis>
The AI engineer's journey began with a successful initial build of the Coastal Oak Capital web application, delivering dual-password authentication, a legal disclaimer gateway, role-based access, and a real-time (mocked) data dashboard with specific design themes and security features. After confirming this production-ready state, the user reported a critical missing feature: access to the masterdeck or investment prospectus document, not just the performance dashboard. The engineer meticulously addressed this by integrating a comprehensive document viewer directly into the  component. This involved adding navigation, populating mock document sections (Executive Summary, Investment Strategy, etc.), and implementing role-based download functionality for GPs, while LPs retain view-only access. The backend was verified post-changes, and preliminary frontend screenshots confirmed the new masterdeck UI. The final pending item is to explicitly test the GP-specific download feature.
</analysis>

<product_requirements>
The primary objective is to create Coastal Oak Capital, a real-time web application serving as an investment prospectus for a distressed and opportunistic real estate fund. It requires dynamic updates from financial data sources. Security is paramount: a universal password for Limited Partners (LPs) allows view-only access (no export, copy, paste, or screenshots), while a special password for General Partners (GPs) includes export functionality. All users must first agree to detailed legal disclaimers and an NDA. The application's design must align with a corporate logo, featuring a teal gradient, and be responsive. Data should update 24/7/365. The initial implementation successfully delivered dual-password login, a legal gateway, role-based access, the specified design, and mock real-time data on a dashboard. The recent update further enhances the application by integrating the actual investment prospectus (masterdeck) with detailed sections, providing a critical document viewing and download (for GPs) capability.
</product_requirements>

<key_technical_concepts>
-   **Full-stack Architecture**: React.js (frontend), FastAPI (backend), MongoDB (database).
-   **Authentication & Authorization**: JWT-based dual-password (LP/GP) login with role-based access control.
-   **Real-time Data Simulation**: Mocked data updates for financial metrics and document content.
-   **UI/UX**: Shadcn UI components, custom CSS for branding, disabling client-side interactions.
-   **Document Viewer**: Integration of multi-section document display and navigation within the frontend.
</key_technical_concepts>

<code_architecture>
The codebase is structured as a full-stack application within the  directory, comprising a React frontend and a FastAPI backend, interacting with a MongoDB database.



-   ****:
    -   **Summary**: The core FastAPI application, handles MongoDB connection, defines Pydantic models, and exposes API endpoints prefixed with . It includes basic routes (, ), authentication endpoints (), and a  endpoint for real-time data.
    -   **Changes Made**: Added  for LP and GP authentication using JWT. Added  to simulate real-time fund performance. Configured , , and . No new changes related to the masterdeck functionality were required in the backend, as the data for the masterdeck is currently mocked directly in the frontend.
    -   **Importance**: Central backend logic, responsible for user authentication, authorization, and serving dynamic market data.

-   ****:
    -   **Summary**: The main React component, managing client-side routing with . It orchestrates the flow from  to  and finally to  based on authentication state.
    -   **Changes Made**: No explicit modifications within the provided trajectory.
    -   **Importance**: Application entry point, defining the overall user flow and component rendering logic.

-   ****:
    -   **Summary**: Implements the user login interface for both LP and GP, handling password input, authentication via backend API, and displaying toasts for feedback. It was initially an existing file with incorrect passwords and subtitle/button text.
    -   **Changes Made**: Updated  to DigitalDepression and  to NicoleWest0904!!. Corrected the subtitle and login button text.
    -   **Importance**: The primary gateway for users to access the application, critical for security and initial user experience.

-   ****:
    -   **Summary**: Presents a multi-checkbox legal disclaimer and NDA. Users must acknowledge all terms before proceeding to the dashboard.
    -   **Changes Made**: Newly created component, implementing the UI and logic for the disclaimer gateway.
    -   **Importance**: Ensures legal compliance and user agreement before accessing sensitive investment information.

-   ****:
    -   **Summary**: Initially displayed mock real-time market data, fund performance, active portfolio, and market intelligence. It included conditional rendering for GP-specific export functionality and security features.
    -   **Changes Made**:
        -   Significantly modified to integrate a comprehensive masterdeck (investment prospectus) viewer.
        -   Added state management (, ) to toggle between dashboard and prospectus views.
        -   Implemented navigation buttons ( / ).
        -   Incorporated a left sidebar for navigating different prospectus sections (Executive Summary, Investment Strategy, Market Analysis, etc.).
        -   Added conditional rendering for GP-specific Download Prospectus button and Document download restricted to General Partners only message for LPs.
        -   The content for prospectus sections is mocked directly within this component.
    -   **Importance**: The core content area of the application; now displays both investment data and the full investment prospectus, enforcing role-based access and security.

-   ****:
    -   **Summary**: Contains global CSS styles for the application.
    -   **Changes Made**: Added styles for the teal gradient theme, aligning with the corporate logo. Included CSS rules to disable text selection, right-click, and keyboard shortcuts for enhanced security.
    -   **Importance**: Defines the application's visual theme and applies critical security-related UI restrictions.

-   ****:
    -   **Summary**: Frontend dependency management file.
    -   **Changes Made**: Added  dependency.
    -   **Importance**: Manages all frontend libraries required for the application.

-   ****:
    -   **Summary**: Backend dependency management file.
    -   **Changes Made**:  was confirmed to be present, no explicit addition was needed.
    -   **Importance**: Manages all backend libraries.

-   ** & **:
    -   **Summary**: Contain pre-built Shadcn UI components and a custom toast notification hook.
    -   **Changes Made**: No explicit modifications within the provided trajectory.
    -   **Importance**: Provide foundational, reusable UI elements and standardized user feedback mechanisms.
</code_architecture>

<pending_tasks>
-   Verify the General Partner (GP) specific download functionality for the masterdeck/prospectus. The UI for this is implemented, but its actual working behavior needs testing.
</pending_tasks>

<current_work>
Immediately prior to this summary, the AI engineer successfully completed the initial development of the Coastal Oak Capital web application, making it fully functional and production-ready by addressing all core requirements: dual-password authentication (LP: , GP: ), a comprehensive 8-checkbox legal disclaimer/NDA gateway, role-based access control (LP: view-only, GP: full access including export), a real-time (mocked) dashboard, robust security features (disabling copy/paste, right-click, dev tools), and a professional teal gradient design.

However, the user reported a critical functional gap: the absence of the actual investment prospectus document (masterdeck). The AI engineer has just completed implementing this. The  component has been significantly refactored to include a toggle allowing users to switch between the original performance dashboard and a newly integrated Prospectus view. This prospectus view features a left-hand navigation sidebar with 8 distinct sections (e.g., Executive Summary, Investment Strategy, Risk Factors) containing mock content. Role-based access for the prospectus is in place: LPs see a message Document download restricted to General Partners only, while GPs are presented with a Download Prospectus button. Backend changes were confirmed to be non-breaking, and initial frontend screenshots confirm the successful display and navigation of the masterdeck for LPs, along with the correct display of the GP download restriction.
</current_work>

<optional_next_step>
Test the General Partner (GP) download functionality for the masterdeck.
</optional_next_step>
